# Apache proxied app vhost
#
# Generated by Chef for <%= node[:fqdn] %>
# Local modifications will be overwritten.
#

<VirtualHost *:80>
  ServerName <%= @app[:domain_name] %>
  <% (@app[:domain_aliases] || []).each do |a| %>
  ServerAlias <%= a %>
  <% end %>
  ServerAdmin <%= node[:apache][:contact] %>
  <Proxy *>
    Order deny,allow
    Allow from all
  </Proxy>
  ProxyPass / http://localhost:<%= @app[:port] %>/
  ProxyPassReverse / http://localhost:<%= @app[:port] %>
  ProxyPreserveHost on
</VirtualHost>
